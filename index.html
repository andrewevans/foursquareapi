
<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>

  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" id="jquery"></script>
  
  

<script src="https://ss0.4sqi.net/scripts/third_party/jquery.ba-bbq-eddd4adf74d0c1310a401475178c57df.js" type="text/javascript"></script>
<script src="https://ss1.4sqi.net/scripts/apisamples-35608dc9c26343e74f5d99fc20bae6c5.js" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[

/**
 * Sample application that uses the foursquare API to show how many Starbucks
 * locations a user has been to.
 */
function HowMany(apiKey, authUrl, apiUrl) {
  this.foursquare = new Foursquare(apiKey, authUrl, apiUrl);
}

/**
 * Fetch users's history, and then render in callbkac.
 */
HowMany.prototype.run = function() {
  this.foursquare.venueHistory(bind(this.onHistory, this));
}

/**
 * Given response from venuehistory, build a map from venue ID to history item.
 * @private
 */
HowMany.prototype.onHistory = function(history) {
  var html = [];
  var count = 0;
  var visits = 0;
  console.log(history);


  for (var i = 0; i < history.length; i++) {
    var beenHere = history[i].beenHere;
    var entry = history[i]['venue'];
    if (entry.name.indexOf('Missouri') > -1 || entry.name.indexOf('Mallard') > -1 || entry.name.indexOf('Hotsy') > -1 || entry.name.indexOf('Prizefighter') > -1 || entry.name.indexOf('Moxy') > -1 || entry.name.indexOf('Acme') > -1) {
      count++;
      visits += beenHere;
      html.push(entry.name,' (', beenHere, '): ',entry.location.address, ' (<i>it\'s a ', entry.categories[0].shortName, '</i>)', ', ', entry.location.city, ' [id# ', i, ']<br/>');
    }
  }
  $('#content').html(html.join(''));
  $('#count').html(visits + '');
}
//]]>

$(function() {

  new HowMany('TVVOUSGJOCBUQSWTWOK3DGPO5BFX3FPYYH1FWMYWFQG2CYOW', 'https://foursquare.com/', 'https://api.foursquare.com/').run();

})
</script>
<link href="https://ss1.4sqi.net/styles/third_party/apisamples-0392cfe95c9fd32087ab6d80fcb80175.css" type="text/css" rel="stylesheet" />

	
</head>
<body>
<h1>How many TOUCH MUDDER BARS have I been to?</h1>
<br /><br />
<div style="width: 600px; height: 600px; position: absolute;" id="count">
</div>
<div style="margin-left: 200px" id="content">
</div>
<div class="note">This is a <a href="../samples">sample foursquare API application</a>. Please view the source and remix it in your own applications!</div>
<script src="/ajax_request/liftAjax.js" type="text/javascript"></script>

	
<script type="text/javascript">
// <![CDATA[

var lift_page = "F5788567544194JEA2I";
// ]]>
</script></body>
</html>  
  